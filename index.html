<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fruugoè·¨å¢ƒç”µå•†äº§å“è®¡ä»·å™¨ï¼ˆç½‘é¡µç‰ˆï¼‰</title>
    <style>
        :root {
            --primary: #2d8cf0;
            --success: #19be6b;
            --warning: #ff9900;
            --danger: #ed4014;
            --ad-color: #722ed1;
            --text: #17233d;
            --border: #dcdee2;
            --bg: #f0f2f5;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }
        body {
            background-color: var(--bg);
            color: var(--text);
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2d8cf0, #57a3f3);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        .panel {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 24px;
            border: 1px solid var(--border);
        }
        .panel-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .form-group {
            margin-bottom: 16px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 14px;
            transition: all 0.3s;
        }
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(45,140,240,0.2);
        }
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
        }
        .btn:hover {
            background: #40a9ff;
        }
        .results {
            margin-top: 16px;
        }
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }
        .result-item:last-child {
            border-bottom: none;
        }
        .result-label {
            font-weight: 500;
        }
        .result-value {
            font-weight: 600;
        }
        .profit {
            color: var(--success);
        }
        .loss {
            color: var(--danger);
        }
        .cost {
            color: var(--warning);
        }
        .revenue {
            color: var(--primary);
        }
        .ad-cost {
            color: var(--ad-color);
        }
        .tips {
            background: #f6ffed;
            border-left: 4px solid var(--success);
            padding: 16px;
            margin-top: 24px;
            font-size: 14px;
        }
        .tips.warning {
            background: #fffbe6;
            border-left-color: var(--warning);
        }
        .tips-title {
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .category-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }
        .tag {
            padding: 6px 12px;
            border-radius: 4px;
            background: #f5f5f5;
            color: var(--text);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .tag.selected {
            background: var(--primary);
            color: white;
        }
        .tag.warning {
            background: #fff2e8;
            color: #fa541c;
        }
        .highlight {
            font-weight: 600;
        }
        .ad-input-group {
            border-left: 3px solid var(--ad-color);
            padding-left: 12px;
            margin: 20px 0;
        }
        .ad-input-group label {
            color: var(--ad-color);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ Fruugoè·¨å¢ƒç”µå•†äº§å“è®¡ä»·å™¨</h1>
            <p>ğŸ’° ç½‘é¡µä¸“ä¸šç‰ˆ | å«å¹¿å‘Šæˆæœ¬è®¡ç®— | ä¸€é”®éƒ¨ç½²ä½¿ç”¨</p>
        </div>
        
        <div class="content">
            <div class="panel">
                <h2 class="panel-title">ğŸ“Š æˆæœ¬ä¸å®šä»·è®¾ç½®</h2>
                
                <div class="form-group">
                    <label for="purchasePrice">é‡‡è´­æˆæœ¬ (äººæ°‘å¸)</label>
                    <input type="number" id="purchasePrice" placeholder="ä¾‹: 58.00" step="0.01" min="0" value="58">
                </div>
                
                <div class="form-group">
                    <label for="domesticShipping">å›½å†…è¿è´¹ (äººæ°‘å¸)</label>
                    <input type="number" id="domesticShipping" placeholder="ä¾‹: 5.00" step="0.01" min="0" value="5">
                </div>
                
                <div class="form-group">
                    <label for="weight">äº§å“é‡é‡ (kg)</label>
                    <input type="number" id="weight" placeholder="ä¾‹: 0.5" step="0.01" min="0" value="0.5">
                </div>
                
                <div class="form-group">
                    <label for="customsTaxRate">å…³ç¨ç¨ç‡ (%)</label>
                    <input type="number" id="customsTaxRate" placeholder="ä¾‹: 15" step="0.1" min="0" max="100" value="15">
                </div>
                
                <div class="form-group">
                    <label for="productCategory">äº§å“ç±»ç›®</label>
                    <select id="productCategory">
                        <option value="home">å®¶å±…ç”¨å“ (12%)</option>
                        <option value="motherBaby">æ¯å©´ç”¨å“ (10%)</option>
                        <option value="outdoor">æˆ·å¤–ä¼‘é—² (9%)</option>
                        <option value="health">å¥åº·ä¸ªæŠ¤ (13%)</option>
                        <option value="pet">å® ç‰©ç”¨å“ (8%)</option>
                        <option value="3c">3Cç”µå­ (15%)</option>
                        <option value="clothing">æœè£… (12%)</option>
                        <option value="beauty">ç¾å¦† (13%)</option>
                        <option value="adult">æˆäººç”¨å“ (20%) âš ï¸</option>
                    </select>
                    <div class="category-tags">
                        <div class="tag selected">å®¶å±… 12%</div>
                        <div class="tag">æ¯å©´ 10%</div>
                        <div class="tag">æˆ·å¤– 9%</div>
                        <div class="tag">å¥åº· 13%</div>
                        <div class="tag">å® ç‰© 8%</div>
                        <div class="tag">3C 15%</div>
                        <div class="tag">æœè£… 12%</div>
                        <div class="tag">ç¾å¦† 13%</div>
                        <div class="tag warning">æˆäºº 20% âš ï¸</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="targetProfitMargin">ç›®æ ‡åˆ©æ¶¦ç‡ (%)</label>
                    <input type="number" id="targetProfitMargin" placeholder="ä¾‹: 45" step="0.1" min="0" max="100" value="45">
                </div>
                
                <div class="form-group">
                    <label for="shippingFee">å›½é™…è¿è´¹ (è‹±é•‘)</label>
                    <input type="number" id="shippingFee" placeholder="ä¾‹: 3.50" step="0.01" min="0" value="3.5">
                </div>
                
                <div class="form-group">
                    <label for="exchangeRate">è‹±é•‘å…‘äººæ°‘å¸æ±‡ç‡</label>
                    <input type="number" id="exchangeRate" placeholder="ä¾‹: 9.2" step="0.01" min="0" value="9.2">
                </div>
                
                <!-- å¹¿å‘Šæˆæœ¬è®¾ç½® -->
                <div class="ad-input-group">
                    <label for="adPercentage">å¹¿å‘Šæˆæœ¬æ¯”ä¾‹ (%)</label>
                    <input type="number" id="adPercentage" placeholder="ä¾‹: 15" step="0.1" min="0" max="100" value="15">
                </div>
                
                <button class="btn" id="calculateBtn">è®¡ç®—åˆ©æ¶¦</button>
            </div>
            
            <div class="panel">
                <h2 class="panel-title">ğŸ“ˆ åˆ©æ¶¦åˆ†ææŠ¥å‘Š</h2>
                
                <div class="results">
                    <div class="result-item">
                        <span class="result-label">æ€»æˆæœ¬ (äººæ°‘å¸)</span>
                        <span class="result-value cost" id="totalCostCny">Â¥0.00</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label">å»ºè®®å”®ä»· (è‹±é•‘)</span>
                        <span class="result-value revenue" id="suggestedPrice">Â£0.00</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label">å¹³å°ä½£é‡‘ (è‹±é•‘)</span>
                        <span class="result-value cost" id="platformFee">Â£0.00</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label">å›½é™…è¿è´¹ (è‹±é•‘)</span>
                        <span class="result-value cost" id="internationalShipping">Â£0.00</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label">å…³ç¨æˆæœ¬ (è‹±é•‘)</span>
                        <span class="result-value cost" id="customsTax">Â£0.00</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label">å¹¿å‘Šæˆæœ¬ (è‹±é•‘)</span>
                        <span class="result-value ad-cost" id="adCost">Â£0.00</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label">å‡€æ”¶å…¥ (è‹±é•‘)</span>
                        <span class="result-value revenue" id="netIncome">Â£0.00</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label">é¢„ä¼°åˆ©æ¶¦ (è‹±é•‘)</span>
                        <span class="result-value" id="estimatedProfit">Â£0.00</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label">å®é™…åˆ©æ¶¦ç‡</span>
                        <span class="result-value" id="actualMargin">0%</span>
                    </div>
                </div>
                
                <div class="tips">
                    <div class="tips-title">ğŸ’¡ è¿è¥å»ºè®®</div>
                    <p>â€¢ å®¶å±…ã€æ¯å©´ã€æˆ·å¤–ç±»ç›®åœ¨Fruugoå¹³å°æµé‡å æ¯”è¶…<span class="highlight">70%</span>ï¼Œå»ºè®®ä¼˜å…ˆè€ƒè™‘</p>
                    <p>â€¢ ç¡®ä¿äº§å“ç¬¦åˆç›®æ ‡å¸‚åœºè®¤è¯è¦æ±‚ï¼ˆæ¬§ç›ŸCEã€è‹±å›½UKCAã€æ¾³æ´²AANZFTAï¼‰</p>
                    <p>â€¢ é‡é‡æ§åˆ¶åœ¨<span class="highlight">3kgä»¥å†…</span>ä»¥é™ä½ç‰©æµæˆæœ¬</p>
                    <p>â€¢ å¹¿å‘Šé¢„ç®—å»ºè®®æ§åˆ¶åœ¨é”€å”®é¢çš„<span class="highlight">10-20%</span>èŒƒå›´å†…</p>
                </div>
                
                <div class="tips warning">
                    <div class="tips-title">âš ï¸ é£é™©æç¤º</div>
                    <p>â€¢ é¿å…é«˜ç‰©æµæˆæœ¬ã€å¼ºæœ¬åœ°è®¤è¯å’Œæ˜“ç¦è¿å“ç±»</p>
                    <p>â€¢ æˆäººç”¨å“ä½£é‡‘é«˜è¾¾<span class="highlight">20%</span>ï¼Œä¸”é£é™©è¾ƒå¤§</p>
                    <p>â€¢ å¹¿å‘Šæˆæœ¬è¿‡é«˜ä¼šå¯¼è‡´åˆ©æ¶¦ç‡å¤§å¹…ä¸‹é™</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç±»ç›®ä½£é‡‘ç‡é…ç½®
        const categoryCommissions = {
            'home': 0.12,
            'motherBaby': 0.10,
            'outdoor': 0.09,
            'health': 0.13,
            'pet': 0.08,
            '3c': 0.15,
            'clothing': 0.12,
            'beauty': 0.13,
            'adult': 0.20
        };

        // ç±»ç›®ä¸­æ–‡åç§°
        const categoryNames = {
            'home': 'å®¶å±…ç”¨å“',
            'motherBaby': 'æ¯å©´ç”¨å“',
            'outdoor': 'æˆ·å¤–ä¼‘é—²',
            'health': 'å¥åº·ä¸ªæŠ¤',
            'pet': 'å® ç‰©ç”¨å“',
            '3c': '3Cç”µå­',
            'clothing': 'æœè£…',
            'beauty': 'ç¾å¦†',
            'adult': 'æˆäººç”¨å“'
        };

        // ç›‘å¬ç±»ç›®é€‰æ‹©å˜åŒ–
        document.getElementById('productCategory').addEventListener('change', function() {
            updateCategoryTags(this.value);
        });

        // æ›´æ–°ç±»ç›®æ ‡ç­¾
        function updateCategoryTags(selectedValue) {
            document.querySelectorAll('.tag').forEach(tag => {
                tag.classList.remove('selected', 'warning');
                
                const categoryText = categoryNames[selectedValue] + ' ' + (categoryCommissions[selectedValue] * 100) + '%';
                if (tag.textContent === categoryText || 
                    (selectedValue === 'adult' && tag.textContent === 'æˆäºº 20% âš ï¸')) {
                    tag.classList.add('selected');
                    if (selectedValue === 'adult') {
                        tag.classList.add('warning');
                    }
                }
            });
        }

        // æ ‡ç­¾ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.tag').forEach(tag => {
            tag.addEventListener('click', function() {
                const text = this.textContent;
                const categoryMap = {
                    'å®¶å±… 12%': 'home',
                    'æ¯å©´ 10%': 'motherBaby',
                    'æˆ·å¤– 9%': 'outdoor',
                    'å¥åº· 13%': 'health',
                    'å® ç‰© 8%': 'pet',
                    '3C 15%': '3c',
                    'æœè£… 12%': 'clothing',
                    'ç¾å¦† 13%': 'beauty',
                    'æˆäºº 20% âš ï¸': 'adult'
                };
                
                if (categoryMap[text]) {
                    document.getElementById('productCategory').value = categoryMap[text];
                    updateCategoryTags(categoryMap[text]);
                }
            });
        });

        // è®¡ç®—æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.getElementById('calculateBtn').addEventListener('click', calculateProfit);

        // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œä¸€æ¬¡è®¡ç®—
        window.addEventListener('load', function() {
            updateCategoryTags(document.getElementById('productCategory').value);
            calculateProfit();
        });

        // ä¸»è®¡ç®—å‡½æ•°
        function calculateProfit() {
            // è·å–è¾“å…¥å€¼
            const purchasePrice = parseFloat(document.getElementById('purchasePrice').value) || 0;
            const domesticShipping = parseFloat(document.getElementById('domesticShipping').value) || 0;
            const customsTaxRate = parseFloat(document.getElementById('customsTaxRate').value) || 0;
            const productCategory = document.getElementById('productCategory').value;
            const targetProfitMargin = parseFloat(document.getElementById('targetProfitMargin').value) || 0;
            const shippingFee = parseFloat(document.getElementById('shippingFee').value) || 0;
            const exchangeRate = parseFloat(document.getElementById('exchangeRate').value) || 1;
            const adPercentage = parseFloat(document.getElementById('adPercentage').value) || 0;

            const commissionRate = categoryCommissions[productCategory] || 0.12;

            // è®¡ç®—å…³ç¨ï¼ˆäººæ°‘å¸ï¼‰
            const customsTaxCny = (purchasePrice + domesticShipping) * (customsTaxRate / 100);
            
            // è½¬æ¢ä¸ºè‹±é•‘
            const customsTaxGbp = customsTaxCny / exchangeRate;
            
            // æ€»æˆæœ¬ï¼ˆäººæ°‘å¸ï¼‰
            const totalCostCny = purchasePrice + domesticShipping + customsTaxCny;
            
            // è½¬æ¢ä¸ºè‹±é•‘
            const totalCostGbp = totalCostCny / exchangeRate;
            const totalCostWithShippingGbp = totalCostGbp + shippingFee;

            // è®¡ç®—å»ºè®®å”®ä»·ï¼ˆåŒ…å«ç›®æ ‡åˆ©æ¶¦ç‡ï¼‰
            const suggestedPriceGbp = totalCostWithShippingGbp / (1 - (targetProfitMargin / 100) - commissionRate - (adPercentage / 100));

            // è®¡ç®—å¹³å°ä½£é‡‘
            const platformFeeGbp = suggestedPriceGbp * commissionRate;

            // è®¡ç®—å¹¿å‘Šæˆæœ¬
            const adCostGbp = suggestedPriceGbp * (adPercentage / 100);

            // è®¡ç®—å‡€æ”¶å…¥ï¼ˆè‹±é•‘ï¼‰
            const netIncomeGbp = suggestedPriceGbp - platformFeeGbp - totalCostGbp - adCostGbp;

            // è®¡ç®—å®é™…åˆ©æ¶¦ï¼ˆè‹±é•‘ï¼‰
            const actualProfitGbp = suggestedPriceGbp - totalCostWithShippingGbp - platformFeeGbp - adCostGbp;

            // è®¡ç®—å®é™…åˆ©æ¶¦ç‡
            const actualProfitMargin = totalCostWithShippingGbp > 0 ? 
                (actualProfitGbp / totalCostWithShippingGbp) * 100 : 0;

            // æ›´æ–°æ˜¾ç¤ºç»“æœ
            updateResults({
                totalCostCny,
                suggestedPriceGbp,
                platformFeeGbp,
                shippingFee,
                customsTaxGbp,
                adCostGbp,
                netIncomeGbp,
                actualProfitGbp,
                actualProfitMargin
            });
        }

        // æ›´æ–°ç»“æœæ˜¾ç¤º
        function updateResults(data) {
            // åŸºç¡€æ•°æ®æ˜¾ç¤º
            document.getElementById('totalCostCny').textContent = `Â¥${data.totalCostCny.toFixed(2)}`;
            document.getElementById('suggestedPrice').textContent = `Â£${data.suggestedPriceGbp.toFixed(2)}`;
            document.getElementById('platformFee').textContent = `Â£${data.platformFeeGbp.toFixed(2)}`;
            document.getElementById('internationalShipping').textContent = `Â£${data.shippingFee.toFixed(2)}`;
            document.getElementById('customsTax').textContent = `Â£${data.customsTaxGbp.toFixed(2)}`;
            document.getElementById('adCost').textContent = `Â£${data.adCostGbp.toFixed(2)}`;
            document.getElementById('netIncome').textContent = `Â£${data.netIncomeGbp.toFixed(2)}`;
            
            // åˆ©æ¶¦æ˜¾ç¤ºï¼ˆå¸¦é¢œè‰²ï¼‰
            const profitElement = document.getElementById('estimatedProfit');
            const marginElement = document.getElementById('actualMargin');
            
            if (data.actualProfitGbp >= 0) {
                profitElement.textContent = `Â£${data.actualProfitGbp.toFixed(2)}`;
                profitElement.className = 'result-value profit';
                marginElement.textContent = `${data.actualProfitMargin.toFixed(1)}%`;
                marginElement.className = 'result-value profit';
            } else {
                profitElement.textContent = `-Â£${Math.abs(data.actualProfitGbp).toFixed(2)}`;
                profitElement.className = 'result-value loss';
                marginElement.textContent = `${data.actualProfitMargin.toFixed(1)}%`;
                marginElement.className = 'result-value loss';
            }
        }
    </script>
</body>
</html>
